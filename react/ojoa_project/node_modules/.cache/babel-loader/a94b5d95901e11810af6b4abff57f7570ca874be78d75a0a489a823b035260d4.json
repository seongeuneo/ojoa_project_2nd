{"ast":null,"code":"var express = require('express');\nvar app = express();\nvar client_id = 'iLvDmQxDfS5FjHCKQmDY';\nvar client_secret = 'tF3GIYIpYh';\nvar state = \"RANDOM_STATE\";\nvar redirectURI = encodeURI(\"https://ojoa-project-2-v1.web.app/\");\nvar api_url = \"http://localhost:3001/Login\";\napp.get('/naverlogin', function (req, res) {\n  api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\n  res.writeHead(200, {\n    'Content-Type': 'text/html;charset=utf-8'\n  });\n  res.end(\"<a href='\" + api_url + \"'><img height='50' src='http://static.nid.naver.com/oauth/small_g_in.PNG'/></a>\");\n});\napp.get('/callback', function (req, res) {\n  code = req.query.code;\n  state = req.query.state;\n  api_url = 'https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&client_id=' + client_id + '&client_secret=' + client_secret + '&redirect_uri=' + redirectURI + '&code=' + code + '&state=' + state;\n  var request = require('request');\n  var options = {\n    url: api_url,\n    headers: {\n      'X-Naver-Client-Id': client_id,\n      'X-Naver-Client-Secret': client_secret\n    }\n  };\n  request.get(options, function (error, response, body) {\n    if (!error && response.statusCode == 200) {\n      res.writeHead(200, {\n        'Content-Type': 'text/json;charset=utf-8'\n      });\n      res.end(body);\n    } else {\n      res.status(response.statusCode).end();\n      console.log('error = ' + response.statusCode);\n    }\n  });\n});\napp.listen(3000, function () {\n  console.log('http://127.0.0.1:3000/naverlogin app listening on port 3000!');\n});","map":{"version":3,"names":["express","require","app","client_id","client_secret","state","redirectURI","encodeURI","api_url","get","req","res","writeHead","end","code","query","request","options","url","headers","error","response","body","statusCode","status","console","log","listen"],"sources":["D:/MTest/ojoaproject/react/ojoa_project/src/pages/Login/NaverLogin.jsx"],"sourcesContent":["var express = require('express');\r\nvar app = express();\r\nvar client_id = 'iLvDmQxDfS5FjHCKQmDY';\r\nvar client_secret = 'tF3GIYIpYh';\r\nvar state = \"RANDOM_STATE\";\r\nvar redirectURI = encodeURI(\"https://ojoa-project-2-v1.web.app/\");\r\nvar api_url = \"http://localhost:3001/Login\";\r\napp.get('/naverlogin', function (req, res) {\r\n    api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\r\n    res.writeHead(200, { 'Content-Type': 'text/html;charset=utf-8' });\r\n    res.end(\"<a href='\" + api_url + \"'><img height='50' src='http://static.nid.naver.com/oauth/small_g_in.PNG'/></a>\");\r\n});\r\napp.get('/callback', function (req, res) {\r\n    code = req.query.code;\r\n    state = req.query.state;\r\n    api_url = 'https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&client_id='\r\n        + client_id + '&client_secret=' + client_secret + '&redirect_uri=' + redirectURI + '&code=' + code + '&state=' + state;\r\n    var request = require('request');\r\n    var options = {\r\n        url: api_url,\r\n        headers: { 'X-Naver-Client-Id': client_id, 'X-Naver-Client-Secret': client_secret }\r\n    };\r\n    request.get(options, function (error, response, body) {\r\n        if (!error && response.statusCode == 200) {\r\n            res.writeHead(200, { 'Content-Type': 'text/json;charset=utf-8' });\r\n            res.end(body);\r\n        } else {\r\n            res.status(response.statusCode).end();\r\n            console.log('error = ' + response.statusCode);\r\n        }\r\n    });\r\n});\r\napp.listen(3000, function () {\r\n    console.log('http://127.0.0.1:3000/naverlogin app listening on port 3000!');\r\n});\r\n\r\n"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,GAAG,GAAGF,OAAO,CAAC,CAAC;AACnB,IAAIG,SAAS,GAAG,sBAAsB;AACtC,IAAIC,aAAa,GAAG,YAAY;AAChC,IAAIC,KAAK,GAAG,cAAc;AAC1B,IAAIC,WAAW,GAAGC,SAAS,CAAC,oCAAoC,CAAC;AACjE,IAAIC,OAAO,GAAG,6BAA6B;AAC3CN,GAAG,CAACO,GAAG,CAAC,aAAa,EAAE,UAAUC,GAAG,EAAEC,GAAG,EAAE;EACvCH,OAAO,GAAG,wEAAwE,GAAGL,SAAS,GAAG,gBAAgB,GAAGG,WAAW,GAAG,SAAS,GAAGD,KAAK;EACnJM,GAAG,CAACC,SAAS,CAAC,GAAG,EAAE;IAAE,cAAc,EAAE;EAA0B,CAAC,CAAC;EACjED,GAAG,CAACE,GAAG,CAAC,WAAW,GAAGL,OAAO,GAAG,iFAAiF,CAAC;AACtH,CAAC,CAAC;AACFN,GAAG,CAACO,GAAG,CAAC,WAAW,EAAE,UAAUC,GAAG,EAAEC,GAAG,EAAE;EACrCG,IAAI,GAAGJ,GAAG,CAACK,KAAK,CAACD,IAAI;EACrBT,KAAK,GAAGK,GAAG,CAACK,KAAK,CAACV,KAAK;EACvBG,OAAO,GAAG,+EAA+E,GACnFL,SAAS,GAAG,iBAAiB,GAAGC,aAAa,GAAG,gBAAgB,GAAGE,WAAW,GAAG,QAAQ,GAAGQ,IAAI,GAAG,SAAS,GAAGT,KAAK;EAC1H,IAAIW,OAAO,GAAGf,OAAO,CAAC,SAAS,CAAC;EAChC,IAAIgB,OAAO,GAAG;IACVC,GAAG,EAAEV,OAAO;IACZW,OAAO,EAAE;MAAE,mBAAmB,EAAEhB,SAAS;MAAE,uBAAuB,EAAEC;IAAc;EACtF,CAAC;EACDY,OAAO,CAACP,GAAG,CAACQ,OAAO,EAAE,UAAUG,KAAK,EAAEC,QAAQ,EAAEC,IAAI,EAAE;IAClD,IAAI,CAACF,KAAK,IAAIC,QAAQ,CAACE,UAAU,IAAI,GAAG,EAAE;MACtCZ,GAAG,CAACC,SAAS,CAAC,GAAG,EAAE;QAAE,cAAc,EAAE;MAA0B,CAAC,CAAC;MACjED,GAAG,CAACE,GAAG,CAACS,IAAI,CAAC;IACjB,CAAC,MAAM;MACHX,GAAG,CAACa,MAAM,CAACH,QAAQ,CAACE,UAAU,CAAC,CAACV,GAAG,CAAC,CAAC;MACrCY,OAAO,CAACC,GAAG,CAAC,UAAU,GAAGL,QAAQ,CAACE,UAAU,CAAC;IACjD;EACJ,CAAC,CAAC;AACN,CAAC,CAAC;AACFrB,GAAG,CAACyB,MAAM,CAAC,IAAI,EAAE,YAAY;EACzBF,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAC;AAC/E,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}