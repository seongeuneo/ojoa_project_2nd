{"ast":null,"code":"var _jsxFileName = \"D:\\\\MTest\\\\ojoaproject\\\\react\\\\ojoa_project\\\\src\\\\pages\\\\Cart\\\\Cart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport '../../pages/Cart/Cart.css';\nimport CartHeader from '../../pages/Cart/CartHeader';\nimport CartList from '../../pages/Cart/CartList';\nimport CartTotal from '../../pages/Cart/CartTotal';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = ({\n  cart,\n  convertPrice\n}) => {\n  _s();\n  // 상태 관리할 state 추가\n  const [cartState, setCartState] = useState(cart);\n  // 전체 선택 체크 여부 상태\n  const [isAllChecked, setIsAllChecked] = useState(false);\n  // 선택된 아이템 상태\n  const [selectedItems, setSelectedItems] = useState([]);\n  // 선택된 상품들의 final_price 합 상태 추가\n  const [selectedTotal, setSelectedTotal] = useState(0);\n  // 선택된 아이템의 합계 상태\n  const [selectedItemsTotal, setSelectedItemsTotal] = useState(0);\n  useEffect(() => {\n    const total = calculateSelectedTotal();\n    setSelectedItemsTotal(total);\n  }, [selectedItems, cart]);\n  const updateSelectedTotal = total => {\n    setSelectedTotal(total);\n  };\n  const handleCheckAll = () => {\n    const updatedIsAllChecked = !isAllChecked;\n    setIsAllChecked(updatedIsAllChecked);\n    const updatedSelectedItems = updatedIsAllChecked ? cartState.map(item => item.id) : [];\n    setSelectedItems(updatedSelectedItems);\n  };\n  const onDecrease = itemId => {\n    setCartState(prevCart => prevCart.map(item => item.id === itemId ? {\n      ...item,\n      quantity: Math.max(item.quantity - 1, 1)\n    } : item));\n  };\n  const onIncrease = itemId => {\n    setCartState(prevCart => prevCart.map(item => item.id === itemId ? {\n      ...item,\n      quantity: item.quantity + 1\n    } : item));\n  };\n  const addToCart = cartItem => {\n    setCartState(prevCart => [...prevCart, cartItem]);\n  };\n  const handleRemoveFromCart = itemId => {\n    setCartState(prevCart => prevCart.filter(item => item.id !== itemId));\n  };\n  const handleCheckbox = itemId => {\n    setSelectedItems(prevSelectedItems => {\n      if (prevSelectedItems.includes(itemId)) {\n        return prevSelectedItems.filter(id => id !== itemId);\n      } else {\n        return [...prevSelectedItems, itemId];\n      }\n    });\n  };\n  const calculateSelectedTotal = () => {\n    return selectedItems.reduce((total, itemId) => {\n      const selectedItem = cart.find(item => item.id === itemId);\n      if (selectedItem) {\n        return total + selectedItem.productPriceFormatted * selectedItem.quantity;\n      }\n      return total;\n    }, 0);\n  };\n  useEffect(() => {\n    const total = calculateSelectedTotal();\n    setSelectedItemsTotal(total);\n  }, [selectedItems, cart]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Cart\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"path\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\uD604\\uC7AC \\uC704\\uCE58\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"\\uD648\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          title: \"\\uD604\\uC7AC \\uC704\\uCE58\",\n          children: \" > \\xA0 Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"CART\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"txt_01\",\n        children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uB2F4\\uAE34 \\uC0C1\\uD488\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CartHeader, {\n      isAllChecked: isAllChecked,\n      handleCheckAll: handleCheckAll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CartList, {\n      cart: cartState // 수정된 상태를 전달\n      ,\n      onDecrease: onDecrease,\n      onIncrease: onIncrease,\n      handleAddToCart: addToCart // 상품 추가 함수 전달\n      ,\n      handleRemove: handleRemoveFromCart // 상품 제거 함수 전달\n      ,\n      convertPrice: convertPrice,\n      selectedItems: selectedItems // 선택된 아이템 전달\n      ,\n      setSelectedItems: setSelectedItems,\n      updateSelectedTotal: updateSelectedTotal // updateSelectedTotal 함수 전달\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CartTotal, {\n      cart: cartState,\n      convertPrice: convertPrice,\n      selectedItems: selectedItems // 선택된 아이템 리스트 전달\n      ,\n      selectedItemsTotal: selectedItemsTotal // 선택된 아이템 합계 전달\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n};\n_s(Cart, \"DVfkKgnantgneJLMPZUSHX3qDEw=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","CartHeader","CartList","CartTotal","Link","jsxDEV","_jsxDEV","Cart","cart","convertPrice","_s","cartState","setCartState","isAllChecked","setIsAllChecked","selectedItems","setSelectedItems","selectedTotal","setSelectedTotal","selectedItemsTotal","setSelectedItemsTotal","total","calculateSelectedTotal","updateSelectedTotal","handleCheckAll","updatedIsAllChecked","updatedSelectedItems","map","item","id","onDecrease","itemId","prevCart","quantity","Math","max","onIncrease","addToCart","cartItem","handleRemoveFromCart","filter","handleCheckbox","prevSelectedItems","includes","reduce","selectedItem","find","productPriceFormatted","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","title","handleAddToCart","handleRemove","_c","$RefreshReg$"],"sources":["D:/MTest/ojoaproject/react/ojoa_project/src/pages/Cart/Cart.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../../pages/Cart/Cart.css';\r\nimport CartHeader from '../../pages/Cart/CartHeader';\r\nimport CartList from '../../pages/Cart/CartList';\r\nimport CartTotal from '../../pages/Cart/CartTotal';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nconst Cart = ({ cart, convertPrice }) => {\r\n\r\n    // 상태 관리할 state 추가\r\n    const [cartState, setCartState] = useState(cart);\r\n    // 전체 선택 체크 여부 상태\r\n    const [isAllChecked, setIsAllChecked] = useState(false);\r\n    // 선택된 아이템 상태\r\n    const [selectedItems, setSelectedItems] = useState([]);\r\n    // 선택된 상품들의 final_price 합 상태 추가\r\n    const [selectedTotal, setSelectedTotal] = useState(0);\r\n    // 선택된 아이템의 합계 상태\r\n    const [selectedItemsTotal, setSelectedItemsTotal] = useState(0);\r\n\r\n\r\n    useEffect(() => {\r\n        const total = calculateSelectedTotal();\r\n        setSelectedItemsTotal(total);\r\n    }, [selectedItems, cart]);\r\n\r\n    const updateSelectedTotal = (total) => {\r\n        setSelectedTotal(total);\r\n    };\r\n\r\n    const handleCheckAll = () => {\r\n        const updatedIsAllChecked = !isAllChecked;\r\n        setIsAllChecked(updatedIsAllChecked);\r\n        const updatedSelectedItems = updatedIsAllChecked ? cartState.map(item => item.id) : [];\r\n        setSelectedItems(updatedSelectedItems);\r\n    };\r\n\r\n    const onDecrease = (itemId) => {\r\n        setCartState((prevCart) =>\r\n            prevCart.map((item) =>\r\n                item.id === itemId\r\n                    ? { ...item, quantity: Math.max(item.quantity - 1, 1) }\r\n                    : item\r\n            )\r\n        );\r\n    };\r\n\r\n    const onIncrease = (itemId) => {\r\n        setCartState((prevCart) =>\r\n            prevCart.map((item) =>\r\n                item.id === itemId ? { ...item, quantity: item.quantity + 1 } : item\r\n            )\r\n        );\r\n    };\r\n\r\n    const addToCart = (cartItem) => {\r\n        setCartState((prevCart) => [...prevCart, cartItem]);\r\n    };\r\n\r\n    \r\n\r\n    const handleRemoveFromCart = (itemId) => {\r\n        setCartState((prevCart) =>\r\n            prevCart.filter((item) => item.id !== itemId)\r\n        );\r\n    };\r\n\r\n\r\n    const handleCheckbox = (itemId) => {\r\n        setSelectedItems((prevSelectedItems) => {\r\n            if (prevSelectedItems.includes(itemId)) {\r\n                return prevSelectedItems.filter((id) => id !== itemId);\r\n            } else {\r\n                return [...prevSelectedItems, itemId];\r\n            }\r\n        });\r\n    };\r\n\r\n    const calculateSelectedTotal = () => {\r\n        return selectedItems.reduce((total, itemId) => {\r\n            const selectedItem = cart.find(item => item.id === itemId);\r\n            if (selectedItem) {\r\n                return total + selectedItem.productPriceFormatted * selectedItem.quantity;\r\n            }\r\n            return total;\r\n        }, 0);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const total = calculateSelectedTotal();\r\n        setSelectedItemsTotal(total);\r\n    }, [selectedItems, cart]);\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"Cart\">\r\n            <div className=\"path\">\r\n                <span>현재 위치</span>\r\n                <ol>\r\n                    <li>\r\n                        <Link to=\"/\">홈</Link>\r\n                    </li>\r\n                    <li title=\"현재 위치\"> &gt; &nbsp; Cart</li>\r\n                </ol>\r\n            </div>\r\n            <div className=\"title\">\r\n                <h2>CART</h2>\r\n                <div className=\"txt_01\">장바구니에 담긴 상품</div>\r\n            </div>\r\n\r\n            <CartHeader isAllChecked={isAllChecked} handleCheckAll={handleCheckAll} />\r\n\r\n            <CartList\r\n                cart={cartState} // 수정된 상태를 전달\r\n                onDecrease={onDecrease}\r\n                onIncrease={onIncrease}\r\n                handleAddToCart={addToCart} // 상품 추가 함수 전달\r\n                handleRemove={handleRemoveFromCart} // 상품 제거 함수 전달\r\n                convertPrice={convertPrice}\r\n                selectedItems={selectedItems} // 선택된 아이템 전달\r\n                setSelectedItems={setSelectedItems}\r\n                updateSelectedTotal={updateSelectedTotal}// updateSelectedTotal 함수 전달\r\n            />\r\n\r\n            <CartTotal\r\n                cart={cartState}\r\n                convertPrice={convertPrice}\r\n                selectedItems={selectedItems} // 선택된 아이템 리스트 전달\r\n                selectedItemsTotal={selectedItemsTotal} // 선택된 아이템 합계 전달\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,2BAA2B;AAClC,OAAOC,UAAU,MAAM,6BAA6B;AACpD,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,SAAS,MAAM,4BAA4B;AAClD,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIxC,MAAMC,IAAI,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EAErC;EACA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAACS,IAAI,CAAC;EAChD;EACA,MAAM,CAACK,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACvD;EACA,MAAM,CAACgB,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtD;EACA,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC,CAAC,CAAC;EACrD;EACA,MAAM,CAACoB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGrB,QAAQ,CAAC,CAAC,CAAC;EAG/DC,SAAS,CAAC,MAAM;IACZ,MAAMqB,KAAK,GAAGC,sBAAsB,CAAC,CAAC;IACtCF,qBAAqB,CAACC,KAAK,CAAC;EAChC,CAAC,EAAE,CAACN,aAAa,EAAEP,IAAI,CAAC,CAAC;EAEzB,MAAMe,mBAAmB,GAAIF,KAAK,IAAK;IACnCH,gBAAgB,CAACG,KAAK,CAAC;EAC3B,CAAC;EAED,MAAMG,cAAc,GAAGA,CAAA,KAAM;IACzB,MAAMC,mBAAmB,GAAG,CAACZ,YAAY;IACzCC,eAAe,CAACW,mBAAmB,CAAC;IACpC,MAAMC,oBAAoB,GAAGD,mBAAmB,GAAGd,SAAS,CAACgB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,CAAC,GAAG,EAAE;IACtFb,gBAAgB,CAACU,oBAAoB,CAAC;EAC1C,CAAC;EAED,MAAMI,UAAU,GAAIC,MAAM,IAAK;IAC3BnB,YAAY,CAAEoB,QAAQ,IAClBA,QAAQ,CAACL,GAAG,CAAEC,IAAI,IACdA,IAAI,CAACC,EAAE,KAAKE,MAAM,GACZ;MAAE,GAAGH,IAAI;MAAEK,QAAQ,EAAEC,IAAI,CAACC,GAAG,CAACP,IAAI,CAACK,QAAQ,GAAG,CAAC,EAAE,CAAC;IAAE,CAAC,GACrDL,IACV,CACJ,CAAC;EACL,CAAC;EAED,MAAMQ,UAAU,GAAIL,MAAM,IAAK;IAC3BnB,YAAY,CAAEoB,QAAQ,IAClBA,QAAQ,CAACL,GAAG,CAAEC,IAAI,IACdA,IAAI,CAACC,EAAE,KAAKE,MAAM,GAAG;MAAE,GAAGH,IAAI;MAAEK,QAAQ,EAAEL,IAAI,CAACK,QAAQ,GAAG;IAAE,CAAC,GAAGL,IACpE,CACJ,CAAC;EACL,CAAC;EAED,MAAMS,SAAS,GAAIC,QAAQ,IAAK;IAC5B1B,YAAY,CAAEoB,QAAQ,IAAK,CAAC,GAAGA,QAAQ,EAAEM,QAAQ,CAAC,CAAC;EACvD,CAAC;EAID,MAAMC,oBAAoB,GAAIR,MAAM,IAAK;IACrCnB,YAAY,CAAEoB,QAAQ,IAClBA,QAAQ,CAACQ,MAAM,CAAEZ,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKE,MAAM,CAChD,CAAC;EACL,CAAC;EAGD,MAAMU,cAAc,GAAIV,MAAM,IAAK;IAC/Bf,gBAAgB,CAAE0B,iBAAiB,IAAK;MACpC,IAAIA,iBAAiB,CAACC,QAAQ,CAACZ,MAAM,CAAC,EAAE;QACpC,OAAOW,iBAAiB,CAACF,MAAM,CAAEX,EAAE,IAAKA,EAAE,KAAKE,MAAM,CAAC;MAC1D,CAAC,MAAM;QACH,OAAO,CAAC,GAAGW,iBAAiB,EAAEX,MAAM,CAAC;MACzC;IACJ,CAAC,CAAC;EACN,CAAC;EAED,MAAMT,sBAAsB,GAAGA,CAAA,KAAM;IACjC,OAAOP,aAAa,CAAC6B,MAAM,CAAC,CAACvB,KAAK,EAAEU,MAAM,KAAK;MAC3C,MAAMc,YAAY,GAAGrC,IAAI,CAACsC,IAAI,CAAClB,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKE,MAAM,CAAC;MAC1D,IAAIc,YAAY,EAAE;QACd,OAAOxB,KAAK,GAAGwB,YAAY,CAACE,qBAAqB,GAAGF,YAAY,CAACZ,QAAQ;MAC7E;MACA,OAAOZ,KAAK;IAChB,CAAC,EAAE,CAAC,CAAC;EACT,CAAC;EAEDrB,SAAS,CAAC,MAAM;IACZ,MAAMqB,KAAK,GAAGC,sBAAsB,CAAC,CAAC;IACtCF,qBAAqB,CAACC,KAAK,CAAC;EAChC,CAAC,EAAE,CAACN,aAAa,EAAEP,IAAI,CAAC,CAAC;EAMzB,oBACIF,OAAA;IAAK0C,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACjB3C,OAAA;MAAK0C,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACjB3C,OAAA;QAAA2C,QAAA,EAAM;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAClB/C,OAAA;QAAA2C,QAAA,gBACI3C,OAAA;UAAA2C,QAAA,eACI3C,OAAA,CAACF,IAAI;YAACkD,EAAE,EAAC,GAAG;YAAAL,QAAA,EAAC;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACL/C,OAAA;UAAIiD,KAAK,EAAC,2BAAO;UAAAN,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,eACN/C,OAAA;MAAK0C,SAAS,EAAC,OAAO;MAAAC,QAAA,gBAClB3C,OAAA;QAAA2C,QAAA,EAAI;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACb/C,OAAA;QAAK0C,SAAS,EAAC,QAAQ;QAAAC,QAAA,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CAAC,eAEN/C,OAAA,CAACL,UAAU;MAACY,YAAY,EAAEA,YAAa;MAACW,cAAc,EAAEA;IAAe;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE1E/C,OAAA,CAACJ,QAAQ;MACLM,IAAI,EAAEG,SAAU,CAAC;MAAA;MACjBmB,UAAU,EAAEA,UAAW;MACvBM,UAAU,EAAEA,UAAW;MACvBoB,eAAe,EAAEnB,SAAU,CAAC;MAAA;MAC5BoB,YAAY,EAAElB,oBAAqB,CAAC;MAAA;MACpC9B,YAAY,EAAEA,YAAa;MAC3BM,aAAa,EAAEA,aAAc,CAAC;MAAA;MAC9BC,gBAAgB,EAAEA,gBAAiB;MACnCO,mBAAmB,EAAEA,mBAAoB;IAAA;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC,eAEF/C,OAAA,CAACH,SAAS;MACNK,IAAI,EAAEG,SAAU;MAChBF,YAAY,EAAEA,YAAa;MAC3BM,aAAa,EAAEA,aAAc,CAAC;MAAA;MAC9BI,kBAAkB,EAAEA,kBAAmB,CAAC;IAAA;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAAC3C,EAAA,CAhIIH,IAAI;AAAAmD,EAAA,GAAJnD,IAAI;AAkIV,eAAeA,IAAI;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}